---
import Layout from '../layouts/Layout.astro';
---

<Layout title="CHAA - Community Health for Asian Americans">
  <!-- Carousel -->
  <div class="relative w-full h-[400px] overflow-hidden bg-gray-200">
    <div id="carousel-container" class="flex h-full transition-transform duration-500 ease-in-out">
      <img src="/carousel1.jpg" alt="Carousel Image 1" class="min-w-full h-full object-cover" />
      <img src="/carousel2.jpg" alt="Carousel Image 2" class="min-w-full h-full object-cover" />
      <img src="/carousel3.jpg" alt="Carousel Image 3" class="min-w-full h-full object-cover" />
    </div>
    
    <!-- Left Arrow -->
    <button 
      id="carousel-prev" 
      class="absolute left-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full p-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
      aria-label="Previous image"
    >
      <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
    
    <!-- Right Arrow -->
    <button 
      id="carousel-next" 
      class="absolute right-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full p-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
      aria-label="Next image"
    >
      <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </button>
    
    <!-- Indicators -->
    <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
      <button 
        id="indicator-0" 
        class="w-3 h-3 rounded-full bg-white bg-opacity-75 hover:bg-opacity-100 transition-all active"
        aria-label="Go to slide 1"
      ></button>
      <button 
        id="indicator-1" 
        class="w-3 h-3 rounded-full bg-white bg-opacity-50 hover:bg-opacity-100 transition-all"
        aria-label="Go to slide 2"
      ></button>
      <button 
        id="indicator-2" 
        class="w-3 h-3 rounded-full bg-white bg-opacity-50 hover:bg-opacity-100 transition-all"
        aria-label="Go to slide 3"
      ></button>
    </div>
  </div>

  <!-- Program Cards -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
      <div class="rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow text-center" style="background-color: #5E8568;">
        <h2 class="text-xl font-semibold text-white mb-3">Behavioral Health</h2>
        <img src="/oddleaf.png" alt="Leaf icon" class="mx-auto h-16 w-auto mb-4" />
        <p class="text-sm text-white mb-4">To become active in our own plan for wellness</p>
        <a href="/programs/behavioral-health" class="inline-block text-white px-6 py-2 rounded-md font-medium transition-all hover:scale-105 hover:shadow-lg" style="background-color: #C95B39;" onmouseover="this.style.backgroundColor='#A04A2E'" onmouseout="this.style.backgroundColor='#C95B39'">
          Learn More
        </a>
      </div>
      
      <div class="rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow text-center" style="background-color: #8BA292;">
        <h2 class="text-xl font-semibold text-white mb-3">Community Engagement</h2>
        <img src="/evenleaf.png" alt="Leaf icon" class="mx-auto h-16 w-auto mb-4" />
        <p class="text-sm text-white mb-4">To empower and support our communities</p>
        <a href="/programs/community-engagement" class="inline-block text-white px-6 py-2 rounded-md font-medium transition-all hover:scale-105 hover:shadow-lg" style="background-color: #C95B39;" onmouseover="this.style.backgroundColor='#A04A2E'" onmouseout="this.style.backgroundColor='#C95B39'">
          Learn More
        </a>
      </div>
      
      <div class="rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow text-center" style="background-color: #5E8568;">
        <h2 class="text-xl font-semibold text-white mb-3">Youth Programs</h2>
        <img src="/oddleaf.png" alt="Leaf icon" class="mx-auto h-16 w-auto mb-4" />
        <p class="text-sm text-white mb-4">To promote healthy lifestyles and positive choices</p>
        <a href="/programs/youth-programs" class="inline-block text-white px-6 py-2 rounded-md font-medium transition-all hover:scale-105 hover:shadow-lg" style="background-color: #C95B39;" onmouseover="this.style.backgroundColor='#A04A2E'" onmouseout="this.style.backgroundColor='#C95B39'">
          Learn More
        </a>
      </div>
      
      <div class="rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow text-center" style="background-color: #8BA292;">
        <h2 class="text-xl font-semibold text-white mb-3">API Health Source</h2>
        <img src="/evenleaf.png" alt="Leaf icon" class="mx-auto h-16 w-auto mb-4" />
        <p class="text-sm text-white mb-4">To provide culturally relevant resources</p>
        <a href="/programs/api-health-source" class="inline-block text-white px-6 py-2 rounded-md font-medium transition-all hover:scale-105 hover:shadow-lg" style="background-color: #C95B39;" onmouseover="this.style.backgroundColor='#A04A2E'" onmouseout="this.style.backgroundColor='#C95B39'">
          Learn More
        </a>
      </div>
    </div>
    
    <!-- About Text and Donate Button -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-12">
      <div class="flex flex-col md:flex-row items-start md:items-center gap-6">
        <p class="text-left text-gray-700 md:w-3/4 text-lg">
          Community Health for Asian Americans (CHAA) is a non-profit organization committed to improving the quality of life for marginalized communities with special focus on Asian and Pacific Islander (API) communities in the Bay Area.
        </p>
        <a href="/get-involved/donate" class="inline-block transition-all md:w-1/4">
          <img id="donate-button" src="/DonateNow.png" alt="Donate Now" class="w-full h-auto border-2 border-chaa-teal rounded" />
        </a>
      </div>
      
      <!-- Location Sections -->
      <div class="mt-16">
        <h2 class="text-3xl font-semibold py-4 px-4 md:px-6 text-center border-2 border-chaa-navy" style="background-color: #F9F8F4; color: #1a2b3c;">Our Locations</h2>
      </div>
      <div class="flex flex-col md:flex-row border-2 border-chaa-navy" style="background-color: #F9F8F4;">
        <div class="flex-1 px-4 md:px-6 md:border-r border-chaa-teal py-6 text-center">
          <h3 class="text-2xl font-semibold mb-4 text-center" style="color: #1a2b3c;">Alameda</h3>
          <div class="grid grid-cols-[35%_65%] gap-4 mb-4">
            <div class="font-medium text-gray-700">Phone</div>
            <div class="text-gray-800">(510) 835-2777</div>
            <div class="font-medium text-gray-700">Address</div>
            <div class="text-gray-800">1141 Harbor Bay Parkway Alameda, CA 94502</div>
          </div>
          <a href="#" class="inline-block text-white px-6 py-2 rounded-md font-medium transition-all hover:scale-105 hover:shadow-lg" style="background-color: #1a2b3c;" onmouseover="this.style.backgroundColor='#0f1a24'" onmouseout="this.style.backgroundColor='#1a2b3c'">
            Get Directions
          </a>
        </div>
        <div class="flex-1 px-4 md:px-6 md:border-r border-chaa-teal py-6 text-center">
          <h3 class="text-2xl font-semibold mb-4 text-center" style="color: #1a2b3c;">Richmond</h3>
          <div class="grid grid-cols-[35%_65%] gap-4 mb-4">
            <div class="font-medium text-gray-700">Phone</div>
            <div class="text-gray-800">(510) 233-7555</div>
            <div class="font-medium text-gray-700">Address</div>
            <div class="text-gray-800">3919 MacDonald Avenue Richmond, CA 94805</div>
          </div>
          <a href="#" class="inline-block text-white px-6 py-2 rounded-md font-medium transition-all hover:scale-105 hover:shadow-lg" style="background-color: #1a2b3c;" onmouseover="this.style.backgroundColor='#0f1a24'" onmouseout="this.style.backgroundColor='#1a2b3c'">
            Get Directions
          </a>
        </div>
        <div class="flex-1 px-4 md:px-6 py-6 text-center">
          <h3 class="text-2xl font-semibold mb-4 text-center" style="color: #1a2b3c;">Antioch</h3>
          <div class="grid grid-cols-[35%_65%] gap-4 mb-4">
            <div class="font-medium text-gray-700">Phone</div>
            <div class="text-gray-800">(925) 778-1667</div>
            <div class="font-medium text-gray-700">Address</div>
            <div class="text-gray-800">3727 Sunset Lane Suite 110 Antioch, CA 94509</div>
          </div>
          <a href="#" class="inline-block text-white px-6 py-2 rounded-md font-medium transition-all hover:scale-105 hover:shadow-lg" style="background-color: #1a2b3c;" onmouseover="this.style.backgroundColor='#0f1a24'" onmouseout="this.style.backgroundColor='#1a2b3c'">
            Get Directions
          </a>
        </div>
      </div>
    </div>
  </div>
</Layout>

<script>
  let currentSlide = 0;
  const totalSlides = 3;
  const carouselContainer = document.getElementById('carousel-container');
  const prevButton = document.getElementById('carousel-prev');
  const nextButton = document.getElementById('carousel-next');
  const indicators = [
    document.getElementById('indicator-0'),
    document.getElementById('indicator-1'),
    document.getElementById('indicator-2')
  ];

  function updateCarousel() {
    // Move carousel
    carouselContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
    
    // Update indicators
    indicators.forEach((indicator, index) => {
      if (index === currentSlide) {
        indicator.classList.remove('bg-opacity-50');
        indicator.classList.add('bg-opacity-75', 'active');
      } else {
        indicator.classList.remove('bg-opacity-75', 'active');
        indicator.classList.add('bg-opacity-50');
      }
    });
    
    // Update arrow buttons (no loop)
    prevButton.disabled = currentSlide === 0;
    nextButton.disabled = currentSlide === totalSlides - 1;
  }

  // Arrow button handlers
  prevButton.addEventListener('click', () => {
    if (currentSlide > 0) {
      currentSlide--;
      updateCarousel();
    }
  });

  nextButton.addEventListener('click', () => {
    if (currentSlide < totalSlides - 1) {
      currentSlide++;
      updateCarousel();
    }
  });

  // Indicator handlers
  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
      currentSlide = index;
      updateCarousel();
    });
  });

  // Initialize
  updateCarousel();

  // Donate button hover effect
  const donateButton = document.getElementById('donate-button');
  const donateLink = donateButton?.closest('a');
  
  if (donateLink && donateButton) {
    donateLink.addEventListener('mouseenter', () => {
      donateButton.src = '/DonateNowHover.png';
    });
    
    donateLink.addEventListener('mouseleave', () => {
      donateButton.src = '/DonateNow.png';
    });
  }
</script>

